name: context_demo
on: [push]

jobs:
  case1:
    runs-on: ubuntu-latest
    steps:
      - run: |
          if [ "${{ github.repository }}" = "sumith97/Github-Examples" ]; then
            echo "This repository is ${{github.repository}}"
            exit 1
          fi
          if [ "$GITHUB_REPOSITORY" == "sumith97/Github-Examples" ]; then
            echo "This repository is $GITHUB_REPOSITORY environment variable"
          fi
      - run: |
          echo "Check if it works"  

  case2:
    runs-on: ubuntu-latest
    needs: case1
    if: ${{needs.case1.result == "failure"}}
    steps:
      - run: echo "funny fellow!!!!"
      - run: echo "case1 result :${{needs.case1.result}}"
